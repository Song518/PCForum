@model IEnumerable<PCForum.Models.Discussion>

@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://learn.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>

<h2 class="mt-4">Recent Discussions</h2>

@if (Model != null && Model.Any())
{
    @foreach (var item in Model)
    {
        <div class="discussion-item mb-3 p-3 border rounded">
            <h3>
                
                <a asp-controller="Home" asp-action="GetDiscussion" asp-route-id="@item.DiscussionId">
                    @item.Title
                </a>
            </h3>
            <p>@item.Content</p>

            @if (!string.IsNullOrEmpty(item.ImageFilename))
            {
                <img src="~/images/@item.ImageFilename" alt="Thumbnail" width="150" class="img-thumbnail" />
            }

            <p class="text-muted">Created on: @item.CreateDate.ToString("g")</p>
        </div>
    }
}
else
{
    <p>No discussions available.</p>
}
